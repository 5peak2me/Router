Properties properties = new Properties()
properties.load(file('../gradle.properties').newDataInputStream())
def applyRemotePlugin = properties.containsKey('applyRemotePlugin') ? properties.get('applyRemotePlugin'): false

if (!Boolean.valueOf(applyRemotePlugin)) {
    apply plugin: 'groovy'

    repositories {
        google()
        mavenCentral()
    }

    dependencies {
        implementation gradleApi()
        implementation localGroovy()
        implementation 'com.android.tools.build:gradle:7.2.1'
        compileOnly 'com.android.tools:common:30.2.1'
        compileOnly 'com.android.tools:repository:30.2.1'
    }

    sourceSets {
        main {
            java.srcDirs = ['src/main/java', '../gradle-plugin/src/main/java']
            groovy.srcDirs = ['src/main/groovy', '../gradle-plugin/src/main/groovy']
            resources.srcDirs = ['src/main/resources', '../gradle-plugin/src/main/resources']
        }
    }
}